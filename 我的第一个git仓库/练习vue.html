<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="yangshi.css">
</head>
<style>
    /* .list li {
        float: left;
        list-style: none;
        border: 1px solid red;
        width: 30px;
        height: 30px;
        line-height: 30px;
        text-align: center;
    }

    .bg {
        background-color: red;
    } */
</style>

<body>
    <!-- <div id="res">
        <h1>信息：{{num}}</h1>
        <a v-bind:href="ull">百度</a>
        <button @click="change">变更</button>
    </div> -->



    <!-- <h1>methods Option</h1>
    <hr>
    <div id="app">
        {{ a }}
        <p><button @click="add(2)">add</button></p>
    </div> -->


    <div id="arr">
        <h1>总价：{{total}}</h1>
        <table class="table table-bordered">
            <thead>
                <th>名称</th>
                <th>单价</th>
                <th>数量</th>
                <th>总价</th>
            </thead>
            <tbody>
                <tr v-for="(val,ind) in fruitlist">
                    <td>{{val.name}}</td>
                    <td>{{val.price}}</td>
                    <td>
                        <button @click="sub(ind)">-</button>
                        <span>{{val.count}}</span>
                        <button @click="add(ind)">+</button>
                    </td>
                    <td>{{val.sumPrice}}</td>
                </tr>

            </tbody>
        </table>



        <!-- <input type="text" v-model="res"> -->
        <!-- <button @click="num">添加</button> -->
        <!-- <ul>
            <li v-for="(val,index) in list">
                <span>{{val}}</span>
                <button @click="rm(index)">删除</button>
            </li>
        </ul> -->
        <!-- <h1>{{res}}</h1> -->


        <!-- <ul class="list">
            <li @click="changeBg(ind)" v-bind:class="val" v-for="(val,ind) in bglist">{{ind+1}}</li>
        </ul> -->
    </div>
    <script src="vue.js"></script>
    <script>

        new Vue({
            el: '#arr',
            data: {
                fruitlist: [
                    {
                        name: "香蕉",
                        price: 9,
                        count: 0,
                        sumPrice: 0
                    },
                    {
                        name: "苹果",
                        price: 7,
                        count: 0,
                        sumPrice: 0
                    },
                    {
                        name: "葡萄",
                        price: 5,
                        count: 0,
                        sumPrice: 0,
                    }

                ],
                total: 0
            },
            methods: {
                add: function (ind) {
                    var count = ++this.fruitlist[ind].count;
                    var price = this.fruitlist[ind].price;
                    this.fruitlist[ind].sumPrice = (count * price).toFixed(2);
                    this.getTotal();
                },
                sub: function (ind) {
                    if (this.fruitlist[ind].count > 0) {
                        var count = --this.fruitlist[ind].count;
                        var price = this.fruitlist[ind].price;
                        this.fruitlist[ind].sumPrice = (count * price).toFixed(2);
                    }
                    this.getTotal();
                },
                getTotal: function () {
                    var len = this.fruitlist.length;
                    var sum = 0;
                    for (var i = 0; i < len; i++) {
                        sum += Number(this.fruitlist[i].sumPrice);
                    }
                    this.total = sum.toFixed(2);
                }
            }
        })







        // new Vue({
        //     el: "#arr",
        //     data: {
        //         bglist: [
        //             { bg: true },
        //             { bg: false },
        //             { bg: false },
        //             { bg: false },
        //             { bg: false },
        //         ],
        //         bgNow: 0
        //     },
        //     methods: {
        //         changeBg: function (ind) {
        //             this.bglist[ind].bg = true;
        //             this.bglist[this.bgNow].bg = false;
        //             this.bgNow = ind;
        //         }
        //     }
        // })










        // new Vue({
        //     el:'#arr',
        //     data:{
        //         res:" ",
        //         list:["文本","练习","数据","练习","完"]

        //     },
        //     methods:{
        //         rm:function(ind){
        //             this.list.splice(ind,1)
        //         }
        //     }
        // })




    // new Vue({
    //     el:'#res',
    //     data:{
    //         num:'vue',
    //         ull:'http://baidu.com'
    //     },
    //     methods:{
    //         change:function(){

    //             this.num='jquery'
    //         }
    //     }
    // })



    // var app=new Vue({
    //         el:'#app',
    //         data:{
    //             a:1
    //         },
    //         methods:{
    //             add:function(num){
    //                 if(num!=''){this.a+=num}
    //                 else{this.a++}
    //             }
    //         }
    //     })
    </script>
</body>

</html>